<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.5 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Troubleshooting FAQ for MySQL in-app - App Service Blog</title>
<meta name="description" content="">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="App Service Blog">
<meta property="og:title" content="Troubleshooting FAQ for MySQL in-app">
<meta property="og:url" content="https://azure.github.io/AppService/2016/09/08/Troubleshooting-FAQ-for-MySQL-in-app.html">


  <meta property="og:description" content="">



  <meta property="og:image" content="https://azure.github.io/AppService/assets/images/icon.png">





  <meta property="article:published_time" content="2016-09-08T00:00:00+00:00">





  

  


<link rel="canonical" href="https://azure.github.io/AppService/2016/09/08/Troubleshooting-FAQ-for-MySQL-in-app.html">





  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "url": "https://azure.github.io/AppService",
      "logo": "https://azure.github.io/AppService/assets/images/icon.png"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Azure App Service",
      "url": "https://azure.github.io/AppService",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/AppService/feed.xml" type="application/atom+xml" rel="alternate" title="App Service Blog Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/AppService/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->

<!-- Jekyll env: production -->



    <!-- insert favicons. use https://realfavicongenerator.net/ -->
<link rel="icon" 
      type="image/png" 
      href="/AppService/media/pages/new_app_service_logo_16.png">
<link rel="shortcut icon" 
      type="image/png" 
      href="/AppService/media/pages/new_app_service_logo_16.png">

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/AppService/"><img src="/AppService/media/pages/new_app_service_logo_16.svg" alt=""></a>
        
        <a class="site-title" href="/AppService/">
          App Service Blog
          <span class="site-subtitle"></span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/AppService/posts/" >Blog Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/AppService/tags/" >Topics</a>
            </li><li class="masthead__menu-item">
              <a href="https://docs.microsoft.com/en-us/azure/app-service/" >Docs</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/AppService/media/pages/new_app_service_logo_64.svg" alt="Azure App Service" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Azure App Service</h3>
    
    
      <p class="author__bio" itemprop="description">
        An excellent hosting platform for web and API applications.
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Redmond, WA</span>
        </li>
      

      
        
          
        
          
            <li><a href="https://azure.microsoft.com/en-us/services/app-service/" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> Website</a></li>
          
        
          
            <li><a href="/AppService/feed.xml" rel="nofollow noopener noreferrer"><i class="fa fa-rss" aria-hidden="true"></i> Subscribe</a></li>
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Troubleshooting FAQ for MySQL in-app">
    <meta itemprop="description" content="">
    <meta itemprop="datePublished" content="September 08, 2016">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Troubleshooting FAQ for MySQL in-app
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read
 </p>
            
        </header>
      

      <section class="page__content" itemprop="text">
        
        <html><head>
<meta charset="utf-8"/>
</head>
<body>
<div id="page">

<a class="url fn n profile-usercard-hover" href="https://social.msdn.microsoft.com/profile/mksunitha" target="_blank">mksunitha</a>
<time>    9/8/2016 1:09:42 PM</time>
<hr/>
<div id="content">Here are some troubleshooting guidelines for MySQL in-app feature:
<div id="cannot-connect"></div>
<h3>1. I cannot to access the database using Phpmyadmin</h3>
When you access <a href="https://blogs.msdn.microsoft.com/appserviceteam/2016/08/18/announcing-mysql-in-app-preview-for-web-apps/#phpmyadmin">PHPmyadmin for MySQL in-app</a> and the page returns a <strong>login page</strong> or “<strong>cannot connect: invalid settings</strong>” error. There can be two causes for this issue:
<ul>
<li><strong>MySQL process may not be running.</strong></li>
</ul>
Check process explorer if MySQL is running for your web app. You can access the process explorer in the portal. Select <strong>your web app -&gt; Tools -&gt; Process explorer</strong>
<a href="/AppService/media/2016/08/processexploreremysql.png"><img alt="processexploreremysql" class="alignnone wp-image-1165" height="470" src="/AppService/media/2016/08/processexploreremysql-1024x715.png" width="673"/></a>

There will be <strong>mysqld.exe</strong> process visible in the process explorer.

If the process <strong>mysqld.exe</strong> is not visible in the process explorer, then browse the web app or ping your web app which would trigger mysqld.exe process to run. Check process explorer again to verify that mysql process is running and browse phpmyadmin.
<ul>
<li><strong> You have two instances of PHPmyadmin installed</strong></li>
</ul>
With MySQL in-app we already preconfigure and setup PHPmyadmin. If you install PHPmyadmin from Site extensions gallery, then you will end up having two instances of PHPmyadmin. To identify if you have two instances both the conditions below will be true:
<ol>
<li>PHPmyadmin folder exists in <em>D:\home\siteextensions</em> folder</li>
<li>web app is using MySQL in-app feature</li>
</ol>
To resolve this, remove the site extension. Access the site extension gallery and click on remove button. Restart your web app and <a href="https://blogs.msdn.microsoft.com/appserviceteam/2016/08/18/announcing-mysql-in-app-preview-for-web-apps/#phpmyadmin">access your database with PHPmyadmin</a> .
<ul>
<li><strong>There may be a connection strings in application settings.</strong></li>
</ul>
Check in your web app application settings if there is a connection string. PHPmyadmin uses MYSQLCONNSTR_ to connect to the MySQL server. If you have a connection string in application setting change the connection string  type to Custom , so you can still have the information if needed or delete it.  This will force PHPmyadmin to access MYSQLCONNSTR_localdb and connect to the MySQL in-app server.

<a href="/AppService/media/2016/09/mysqlinapp-connectionstring.png"><img alt="mysqlinapp-connectionstring" class="alignnone wp-image-1365" height="371" src="/AppService/media/2016/09/mysqlinapp-connectionstring-1024x596.png" width="638"/></a>
<ul>
<li><strong>File server storage is in read only mode</strong>
Click <a href="https://blogs.msdn.microsoft.com/appserviceteam/2016/09/08/troubleshooting-faq-for-mysql-in-apppreview#readmode">here</a> to learn more</li>
</ul>
<h3>2. My application cannot connect to MySQL in-app database</h3>
If your web app is unable to connect to MySQL in-app database, it could result from :
<ul>
<li>MySQL process is not running for your application:  You can access the process explorer in the portal. Select <strong>your web app -&gt; Tools -&gt; Process explorer. </strong>There will be <strong>exe</strong> process visible in the process explorer. If the process <strong>mysqld.exe</strong> is not visible in the process explorer, then restart the web app and browse the web app. Now check process explorer again to verify <strong>mysqld.exe</strong> loads and check if your web app is functioning correctly.</li>
<li>Your web app is not configured correctly to use MySQL in-app: MySQL in-app does not use port 3306 for MySQL server and hence <strong>DO NOT hard code the database information </strong>in your application configuration file. If the MySQL port used by your web app as using in not available during the situations mentioned below, the MySQL port will change:during an upgrade of azure app service
<ul>
<li>when your web app is scaled up/down</li>
<li>when your app is moved to a different app service plan</li>
<li>when you migrate your app from one subscription to another subscription</li>
</ul>
</li>
</ul>
To make your app resilient, use environment variables as shown <a href="https://blogs.msdn.microsoft.com/appserviceteam/2016/08/18/announcing-mysql-in-app-preview-for-web-apps/#mysqlconnect">here</a>.
<h3>3. I cannot import my database with PHPmyadmin</h3>
PHPmyadmin allows your to import a database , but this  may fail due to:
<ul>
<li>MySQL server used when exporting the database is different than the MySQL version used in MySQL in-app and the schema changes are not supported in the version of destination MySQL server.The version on MySQL in-app is 5.7.9.0. You verify this check by checking the version number folder in MySQL folder "D:\Program Files (x86)\mysql\5.7.9.0"</li>
<li>PHPmyadmin version used for exporting the database varies with PHPmyadmin version used to import the database schema. The PHPmyadmin version that is used with MySQL in-app is 4.5.1. During export make sure the schema is supported. A workaround is to use mysqlimport.exe found in D<span>:\Program Files (x86)\mysql\5.7.9.0\bin on the Kudu Debug console</span>
<pre>"D:\Program Files (x86)\mysql\5.7.9.0\bin\mysql.exe" --user=azure --password=password --port=PORT --bind-address=127.0.0.1  DATABASE_NAME &lt; exportedfile.sql</pre>
</li>
</ul>
<ul>
<li>The exported database file is greater than 8MB. PHPmyadmin is a php application , and the max_upload_size is 8MB for PHP on Azure app service. You can either  modify the max_upload_size to your desired value before doing an import as per instructions mentioned <a href="https://azure.microsoft.com/en-us/documentation/articles/web-sites-php-configure/">here</a>  or use mysql utilities in Kudu debug console to do the import with this sample command
<pre>"D:\Program Files (x86)\mysql\5.7.9.0\bin\mysql.exe" --user=azure --password=password --port=PORT --bind-address=127.0.0.1  DATABASE_NAME &lt; exportedfile.sql</pre>
</li>
</ul>
<em><strong>Note:</strong> When using mysqlimport.exe via Kudu debug console , the browser session timesout after 10 mins. If you have a large file then add the app setting SCM_COMMAND_IDLE_TIMEOUT=3600 for your web app prior to running mysqlimport.exe.</em>
<h3>4. I cannot write to the database  OR I cannot create a comment or post on WordPress application</h3>
<p id="readmode">Turn on<a href="https://blogs.msdn.microsoft.com/azureossds/2015/04/15/info-about-php-fatal-error-and-error-log-on-azure-website/"> PHP error logs</a> and if the error log states that the "InnoDB is in read only mode". This means file server storage is in READ ONLY mode , note that the file server is shared by your web app and MySQL database. The file server can be in read only mode due to</p>
<ul>
<li>an upgrade on the service : Once the upgrade is completed you should be able to write to the database. This usually does not take more than a few minutes.</li>
<li>Platform issues : Check the <a href="https://azure.microsoft.com/en-us/status/">Azure status</a> to see if there are any ongoing issues that could be resulting in this.</li>
<li>Network blips : This could impact the site for a couple of seconds if there was network connection loss.</li>
</ul>
It is recommended to code your application to detect if the storage is in read only mode when using MySQL in-app. This can be done using a simple check to see if the folder wwwroot is writable using <a href="http://php.net/manual/en/function.is-writable.php">is_writable() in PHP</a> before executing any INSERT / UPDATE / DELETE /CREATE Sql queries in your application.
<h3>5. How can I change MySQL server configuration</h3>
Click on your <strong>web app -&gt; application setting </strong>, under app settings add the Key/Value pair , for example to increase max allowed packet to 16MB

WEBSITE_MYSQL_ARGUMENTS = --max_allowed_packet=16M

<a href="/AppService/media/2016/09/appsetting_mysql_arguments.jpg"><img alt="appsetting_mysql_arguments" class="alignnone wp-image-1375" height="150" src="/AppService/media/2016/09/appsetting_mysql_arguments-1024x309.jpg" width="497"/></a>

 
<h3>Additional References</h3>
<a href="https://github.com/projectkudu/kudu/wiki/MySQL-in-app-(preview)#internals-diagnostics-and-loggings">Troubleshooting Wiki</a></div>
</div></body>
<script src="/AppService/resource/jquery-1.12.1.min.js" type="text/javascript"></script>
<script src="/AppService/resource/replace.js" type="text/javascript"></script>
</html>

        
      </section>

      <footer class="page__meta">
          <p class="page__date"><strong><a href="https://social.msdn.microsoft.com/forums/azure/en-US/home?forum=windowsazurewebsitespreview">Post questions</a> | <a href="https://feedback.azure.com/forums/169385-web-apps">Provide product feedback</a></strong></p>
        
        


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2016-09-08T00:00:00+00:00">September 08, 2016</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Troubleshooting+FAQ+for+MySQL+in-app%20https%3A%2F%2Fazure.github.io%2FAppService%2F2016%2F09%2F08%2FTroubleshooting-FAQ-for-MySQL-in-app.html" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fazure.github.io%2FAppService%2F2016%2F09%2F08%2FTroubleshooting-FAQ-for-MySQL-in-app.html" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fazure.github.io%2FAppService%2F2016%2F09%2F08%2FTroubleshooting-FAQ-for-MySQL-in-app.html" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/AppService/2016/09/01/Azure-Functions-0.5-release-and-August-portal-update.html" class="pagination--pager" title="Azure Functions 0.5 release &amp; August portal update
">Previous</a>
    
    
      <a href="/AppService/2016/09/14/PHP-troubleshooting-guide-for-common-errors.html" class="pagination--pager" title="PHP troubleshooting guide for common errors
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/AppService/media/pages/new_app_service_logo_64.svg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/AppService/2019/10/07/Mitigate-your-CPU-problems-before-they-even-happen.html" rel="permalink">Mitigate your CPU problems before they happen
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Automatically mitigate CPU anomalies and save yourself from another late-night servicing call.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/AppService/media/pages/new_app_service_logo_64.svg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/AppService/2019/10/02/Swap-slots-with-arm-templates.html" rel="permalink">Use ARM templates to swap deployment slots
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">You can now use ARM templates to swap deployment slots.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/AppService/media/pages/new_app_service_logo_64.svg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/AppService/2019/09/04/PHP-Minor-Version-Update-for-September-2019.html" rel="permalink">PHP Minor Version Update for September 2019
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Latest version updates to PHP

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/AppService/media/pages/new_app_service_logo_64.svg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/AppService/2019/08/29/App-Service-on-Azure-Stack-Update-7-Released.html" rel="permalink">Azure App Service on Azure Stack Update 7 Released
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">This afternoon we released the seventh update to Azure App Service on Azure Stack.  This release updates the resource provider and brings the following key c...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><div class="search-searchbar"></div>
  <div class="search-hits"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/Azure" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/Azure/AppService" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    <li><a href="/AppService/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 Azure App Service. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/AppService/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>


<!-- Including InstantSearch.js library and styling -->
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch-theme-algolia.min.css">

<script>
// Instanciating InstantSearch.js with Algolia credentials
const search = instantsearch({
  appId: 'DL7L5DVJ0Y',
  apiKey: '9e199032deaf58c32297ca08220c3e90',
  indexName: 'app-service-blog',
  searchParameters: {
    restrictSearchableAttributes: [
      'title',
      'content'
    ]
  }
});

const hitTemplate = function(hit) {
  const url = hit.url;
  const title = hit._highlightResult.title.value;
  const content = hit._highlightResult.html.value;

  return `
    <div class="list__item">
      <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
        <h2 class="archive__item-title" itemprop="headline"><a href="/AppService${url}">${title}</a></h2>
        <div class="archive__item-excerpt" itemprop="description">${content}</div>
      </article>
    </div>
  `;
}

// Adding searchbar and results widgets
search.addWidget(
  instantsearch.widgets.searchBox({
    container: '.search-searchbar',
    
    placeholder: 'Enter your search term...'
  })
);
search.addWidget(
  instantsearch.widgets.hits({
    container: '.search-hits',
    templates: {
      item: hitTemplate
    }
  })
);

// Starting the search
search.start();
</script>





  <script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-112478220-2']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>









  </body>
</html>
